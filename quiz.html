<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz App</title>
    <link rel="stylesheet" href="quiz.css">
</head>
<body>
  <h1>Quiz App</h1>
  <div>
    <p id="question"></p>
    <div id="options"></div>
    <p>Time left: <span id="timer">10</span></p>
    <p>Score: <span id="score">0</span></p>
  </div>
  <br>
  <button onclick="startQuiz()">Start Quiz</button>
  <button onclick="alert('Your score is: ' + score)">View Score</button>

  <script>
    const quizdata = [
      {
        question: "Which language runs in a web browser?",
        options: ["Java", "C", "Python", "Javascript"],
        answer: "Javascript"
      },
      {
        question: "What is 2 + 2?",
        options: ["3", "4", "5", "6"],
        answer: "4"
      },
      {
        question: "What is the largest planet in our solar system?",
        options: ["Earth", "Mars", "Jupiter", "Saturn"],
        answer: "Jupiter"
      },
        {
            question: "What is the capital of France?",
            options: ["Berlin", "Madrid", "Paris", "Rome"],
            answer: "Paris"
        },
        {
            question: "What is the chemical symbol for water?",
            options: ["O2", "H2O", "CO2", "NaCl"],
            answer: "H2O"
        },
        {
            question: "What is the powerhouse of the cell?",
            options: ["Nucleus", "Mitochondria", "Ribosome", "Endoplasmic Reticulum"],
            answer: "Mitochondria"
        },
        {
            question: "Who wrote 'To Kill a Mockingbird'?",
            options: ["Harper Lee", "Mark Twain", "Ernest Hemingway", "F. Scott Fitzgerald"],
            answer: "Harper Lee"
        },
        {
            question: "What is the capital of Japan?",
            options: ["Beijing", "Seoul", "Tokyo", "Bangkok"],
            answer: "Tokyo"
        },
        {
            question: "What is the largest mammal?",
            options: ["Elephant", "Blue Whale", "Giraffe", "Great White Shark"],
            answer: "Blue Whale"
        },
        {
            question: "What is the main ingredient in guacamole?",
            options: ["Tomato", "Avocado", "Onion", "Pepper"],
            answer: "Avocado"
        }
    ];

    let score = 0;
    let currentIndex = 0;
    let timeleft = 10;
    let timer;

    function fetchQuizData() {
      return new Promise((resolve) => {
        setTimeout(() => {
          resolve(quizdata);
        }, 500);
      });
    }

    async function startQuiz() {
      score = 0;
      currentIndex = 0;
      const questions = await fetchQuizData();
      loadQuestion(questions);
    }

    function loadQuestion(questions) {
      if (currentIndex >= questions.length) {
        endQuiz();
        return;
      }

      const { question, options, answer } = questions[currentIndex];
      document.getElementById("question").innerText = question;

      const optionsContainer = document.getElementById("options");
      optionsContainer.innerHTML = "";

      options.forEach(option => {
        const button = document.createElement("button");
        button.innerText = option;
        button.onclick = () => checkAnswer(option, answer, questions);
        optionsContainer.appendChild(button);
      });

      timeleft = 10;
      document.getElementById("timer").innerText = timeleft;

      clearInterval(timer);
      timer = setInterval(() => {
        timeleft--;
        document.getElementById("timer").innerText = timeleft;
        if (timeleft === 0) {
          clearInterval(timer);
          currentIndex++;
          loadQuestion(questions);
        }
      }, 1000);
    }

    function checkAnswer(selected, correct, questions) {
      clearInterval(timer);
      if (selected === correct) {
        score++;
        document.getElementById("score").innerText = score;
      }
      currentIndex++;
      loadQuestion(questions);
    }

    function endQuiz() {
      document.getElementById("question").innerText = "Quiz Over!";
      document.getElementById("options").innerHTML = "";
      document.getElementById("timer").innerText = 0;
    }
  </script>
</body>
</html>
